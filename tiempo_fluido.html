<!doctype html>
<html>
  <head>
    <title>Tiempo Fluido</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2">
      
    <link rel="stylesheet" type="text/css" href="assets/jquery.mobile.1.4.5/jquery.mobile-1.4.5.min.css" media="screen" />
<!--
   <link rel="stylesheet" type="text/css" href="assets/jquery.mobile.1.4.5/jquery.mobile.theme-1.4.5.min.css" media="screen" />
-->    
    <link rel="stylesheet" type="text/css" href="css/tiempo_fluido.css" media="screen" />
    <!--
    <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap-material-design.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/ripples.min.css" media="screen" />
    -->
    <script src="assets/modernizr.js"></script>
    <!--<script src="assets/.js"></script>-->
    
    <link rel="stylesheet" type="text/css" href="assets/dev/style.css" media="screen" />
    
    <script>
      
      var $log, trace;
      //trace=function(e){alert(e);}
      
      Modernizr.load([
        {
          load: "assets/jquery-2.2.3.min.js",
          complete: function (){
            if(!window.jQuery){
              trace("fallo jQuery");
            }
          }
        },
        "assets/jquery.mobile.1.4.5/jquery.mobile-1.4.5.min.js",
        /*
        "assets/bootstrap.min.js",
        "assets/material.min.js",
        "assets/ripples.min.js",
        */
        "assets/moment.min.js",
        "assets/jquery.storageapi.min.js",
        "assets/jquery.serializejson.min.js",
        "assets/populateform.js",
        "assets/varios.js",
        "js/ui.js",
        "js/carga.js",
        "js/jornada.js",
        "js/grilla.js",
        "js/io.js",
        "js/dev.js",
        {
          load: "js/tiempo_fluido.js",
          complete: function (){
            if(!window.tiempoFluido){
              trace("fallo tiempoFluido");
            } else {
              /*** DEV ***/
              //desbichador_init();
              /*
              $("#clearAllNiceAlert").click(function(){
                $("#nice_alert alertbox").hide();
              });
              */
              
              $log = $("#consola #log");
              trace = function (e){
                $log.append("<p>"+e+"</p>");
                $( "#consola" ).trigger( "updatelayout" );
              }
              
              var miTiempoFluido = new tiempoFluido.aplicacion();
              miTiempoFluido.iniciar();
            }
          }/* /complete */
        }
      ]);/* /Modernizr.load */
    </script>

    <!-- *** DEV *** -->
    <!-- - ->
    <link rel="stylesheet" type="text/css" media="screen" href="assets/desbichador/desbichador.css" />
    <script src="assets/desbichador/desbichador.js"></script>
    <!-- -->
    
    <link rel="stylesheet" type="text/css" media="screen" href="assets/nicealert/style.css" />
    <script src="assets/nicealert/nice_alert.js"></script>
    <!-- -->
  </head>

  <body class="ui-body-a" >

    <!-- /* DEV */ - ->
    <div id="clearAllNiceAlert" style="display:block;position:fixed;top:0;left:40%;" class="btn btn-raised btn-danger btn-xs">
    Clear All NiceAlerts
    </div>
    <!-- -->

<!-- ------------------ -->

    <header id="mi_cabecera" data-role="header" data-theme="b" data-position="fixed">
      <h1>Tiempo Fluido</h1>
      <a href="#consola" id="dev" class="ui-btn ui-btn-right ui-icon-eye ui-btn-icon-notext ui-corner-all" >DEV</a>
    </header><!-- /#mi_cabecera -->

<!-- ------------------ -->

    <section id="inicio" data-role="page" class="seccion">
      <header data-role="header">
        <h1>Inicio</h1>
      </header>
      <section id="bienvenida" class="subseccion ui-content">
        <header>
          <h2>Bienvenido <span class="valor perfil nombre"></span></h2>
        </header>
        <div class="mensaje SIN_PERFIL">
          <p>¡No hay perfil configurado. Tienes que configurar uno para comenzar!</p>
        </div>
        <div class="mensaje">
          <p>Esta es la primera vez que inicia la aplicación con el perfil <span class="valor perfil_id"></span>.</p>
          <p>Puedes elegir entre configurar las preferencias de la aplicación y las características de tu tiempo o comenzar a usar con los valores por defecto.</p>
        </div>
        <div class="mensaje SIN_CONFIGURACION">
          <p>No hay configuradas preferencias para el perfil <span class="valor perfil id"></span>.</p>
          <p>Puedes elegir entre configurar las preferencias de la aplicación y las características de tu tiempo o comenzar a usar con los valores por defecto.</p>
        </div>
        <div id="botonera_bienvenida" class="mensaje">
          <a id="btn_configurar_preferencias" class="btn btn-raised btn-lg btn-primary" href="#preferencias">Configurar preferencias</a>
          <a id="btn_ver_valores_defecto" class="btn btn-raised btn-lg" href="#">Ver valores po defecto</a>  
          <a id="btn_comenzar_ya" class="btn btn-raised btn-lg btn-primary" href="#">Comenzar ya!</a>
        </div><!-- #botonera_bienvenida -->

        <div id="valores_defecto" class="popup">
          <p id="valor_tiempoPorJornada" class="propiedad" >
            Tiempo por jornada:&nbsp;
            <span class="valor"></span>
          </p>
          <p id="valor_tiempoIntercargas" class="propiedad" >
            Tiempo intercargas:&nbsp;
            <span class="valor"></span>
          </p>
          <p id="valor_reservaContingencias" class="propiedad" >
            Reserva para contingencias:&nbsp;
            <span class="valor"></span>
          </p>
          <p id="valor_tiempoMinimo" class="propiedad" >
            Tiemo mínimo:&nbsp;
            <span class="valor"></span>
          </p>
          <p id="valor_diasDeSemana" class="propiedad objeto">
            Días de semana:&nbsp;
            <span class="valor"></span>
          </p>
        </div><!-- /#valores_defecto -->

      </section> <!-- /#bienvenida.subseccion -->


      <section id="tablero" class="subseccion">
        <div id="botonera_cargas" >
          <a id="btn_agregar_carga" class="btn btn-raised btn-lg btn-primary" href="#">Agregar carga</a>
          <a id="btn_ver_cargas" class="btn btn-raised" href="#">Ver cargas</a>
        </div>
        <div>
          <a id="btn_ver_grilla" class="btn btn-raised btn-lg" href="#">Ver grilla</a>
        </div>
      </section> <!-- /#tablero.subseccion -->

    </section><!-- /#inicio.seccion -->

<!-- ------------------ -->

    <section id="agregar_carga" data-role="page" class="seccion">
      <header data-role="header">
        <h1>Agregar carga</h1>
      </header>

      <form class="form-horizontal">
        <fieldset>
          <legend>ABM Carga</legend>
          <div class="form-group">
            <label for="titulo" class="col-md-2 control-label">Título</label>
            <div class="col-md-10">
              <input type="titulo" class="form-control" id="inputCargaTitulo" placeholder="Título">
            </div>
          </div>
          <div class="form-group">
            <div class="col-md-10 col-md-offset-2">
              <button type="button" class="btn btn-default">Cancel</button>
              <button type="submit" class="btn btn-primary">Submit</button>
            </div>
          </div>
        </fieldset>
      </form>
    </section><!-- /#agregar_carga -->

<!-- ------------------ -->

    <section id="ver_jornada" data-role="page" class="seccion">
      <header data-role="header">
        <h1>Ver jornada</h1>
      </header>
      <div role="main" class="ui-content">
        <p>Hola!</p>
      </div>      
    </section><!-- /#ver_jornada -->

<!-- ------------------ -->

    <section id="ver_grilla" data-role="page" class="seccion">
      <header data-role="header">
        <h1>Ver grilla</h1>
      </header>
      <div role="main" class="ui-content">
        <p>Hola!</p>
      </div>      
    </section><!-- /#ver_grilla -->

<!-- ------------------ -->

    <section data-role="page" id="configuracion" class="seccion">
      <header data-role="header">
        <h1>Configuración</h1>
      </header>
      <p>Perfil de usuario y preferencias de funcionamiento general.</p>
      <div data-role="tabs">
        <div data-role="navbar">
          <ul>
            <li><a id="a_perfil" href="#perfil" data-icon="user">Perfil</a></li>
            <li><a id="a_preferencias" href="#preferencias" data-icon="bullets">Preferencias</a></li>
            <li><a id="a_otras" href="#otras" data-icon="bullets">Otras</a></li>
            <li><a id="a_dev" href="#dev" data-icon="power">DEV</a></li>
          </ul>
        </div>
        <form id="perfil" class="subseccion ui-content">
          <fieldset>
            <legend>Perfil de usuario</legend>

            <div class="form-group">
              <label for="perfil_nombre" class="col-md-2 control-label">Nombre</label>
              <div class="col-md-10">
                <input type="text" class="form-control perfil propiedad" id="perfil_nombre" name="nombre" placeholder="Nombre real">
              </div>
            </div>

            <div class="form-group">
              <label for="perfil_alias" class="col-md-2 control-label">Id (alias)</label>
              <div class="col-md-10">
                <input type="text" class="form-control perfil propiedad" id="perfil_alias" name="alias" placeholder="alias">
              </div>
            </div>

            <div class="form-group">
              <label for="perfil_email" class="col-md-2 control-label">Email</label>
              <div class="col-md-10">
                <input type="text" class="form-control perfil propiedad" id="perfil_email" name="email" placeholder="email">
              </div>
            </div>

            <div class="form-group">
              <div class="col-md-10 col-md-offset-2">
                <button type="button" class="btn btn-default">Reset</button>
                <button type="button" class="btn btn-primary enviar">Crear Perfil</button>
              </div>
            </div>

         </fieldset>
        </form><!-- /#perfil -->
        
        <form id="preferencias" class="subseccion ui-content">
          <fieldset>
            <legend>Preferencias</legend>

            <div class="form-group">
              <label for="preferencias_tiempoPorJornada" class="col-md-2 control-label">Tiempo por jornada</label>
              <div class="col-md-10">
                <input type="text" class="form-control preferencias propiedad" name="tiempoPorJornada" data-value-type="number" placeholder="horas">
              </div>
            </div>
            <div class="form-group">
              <label for="preferencias_tiempoIntercargas" class="col-md-2 control-label">Tiempo entre cargas</label>
              <div class="col-md-10">
                <input type="text" class="form-control preferencias propiedad" name="tiempoIntercargas" data-value-type="number" placeholder="minutos">
              </div>
            </div>
            <div class="form-group">
              <label for="preferencias_reservaContingencias" class="col-md-2 control-label">Reserva para contingencias (hs:min)</label>
              <div class="col-md-10">
                <input type="text" class="form-control preferencias propiedad" name="reservaContingencias" data-value-type="number" placeholder="horas:minutos">
              </div>
            </div>
            <div class="form-group">
              <label for="preferencias_tiempoMinimo" class="col-md-2 control-label">Tiempo mínimo por tarea por día min)</label>
              <div class="col-md-10">
                <input type="text" class="form-control preferencias propiedad" name="tiempoMinimo" data-value-type="number" placeholder="minutos">
              </div>
            </div>

            <div name="diasDeSemana" class="form-group horizontal preferencias propiedad objeto">
              <p>Días de la semana laborable</p>
              <label for="preferencias_diasDeSemana_lun" class="col-md-2 control-label">lunes</label>
              <input type="checkbox" class="form-control preferencias_diasDeSemana propiedad" name="diasDeSemana[lun]" value="lun">
              <label for="preferencias_diasDeSemana_mar" class="col-md-2 control-label">martes</label>
              <input type="checkbox" class="form-control preferencias_diasDeSemana propiedad" name="diasDeSemana[mar]" value="mar">
              <label for="preferencias_diasDeSemana_mie" class="col-md-2 control-label">miercoles</label>
              <input type="checkbox" class="form-control preferencias_diasDeSemana propiedad" name="diasDeSemana[mie]" value="mie">
              <label for="preferencias_diasDeSemana_jue" class="col-md-2 control-label">jueves</label>
              <input type="checkbox" class="form-control preferencias_diasDeSemana propiedad" name="diasDeSemana[jue]" value="jue">
              <label for="preferencias_diasDeSemana_vie" class="col-md-2 control-label">viernes</label>
              <input type="checkbox" class="form-control preferencias_diasDeSemana propiedad" name="diasDeSemana[vie]" value="vie">
              <label for="preferencias_diasDeSemana_sab" class="col-md-2 control-label">sábado</label>
              <input type="checkbox" class="form-control preferencias_diasDeSemana propiedad" name="diasDeSemana[sab]" value="sab">
              <label for="preferencias_diasDeSemana_dom" class="col-md-2 control-label">domingo</label>
              <input type="checkbox" class="form-control preferencias_diasDeSemana propiedad" name="diasDeSemana[dom]" value="dom">
            </div>
            
            <div class="form-group">
              <div class="col-md-10 col-md-offset-2">
                <button type="button" class="btn btn-default">Reset</button>
                <button type="button" class="btn btn-primary enviar">Salvar preferencias</button>
              </div>
            </div>

          </fieldset>
        </form><!-- /#preferencias -->
        
        <div id="otras" class="subsection ui-content">
          <h1>Otras configuraciones</h1>
        </div>
        
        <div id="dev" 
          data-theme="b" 
          class="subseccion ui-content"
        >
          <header data-role="header">
            <h2>Opciones desarrollador</h2>
            <p>(manejarse cuidado)</p>
          </header>
          <section>
            <h3>Local storage</h3>
            <p>
              Manejo del local storage del navegador y los datos almacenados.
            </p>
            <button 
              id="dev_borrar_todo" 
              class="icon-alert">
              BORRAR TODO
            </button>
          </section>
        </div><!-- /dev -->
      </div><!-- /tabs -->       
    </section><!-- /#configuracion -->
 
 <!-- ------------------ -->
 
    <footer data-role="footer" data-theme="b" data-position="fixed">
      <!-- navegación -->
      <nav data-role="navbar" id="menu_principal">
        <ul>
          <li><a data-icon="home" data-transition="fade" id="m_inicio" href="#inicio" >Inicio</a></li>
          <li><a data-icon="plus" data-transition="fade" id="m_agregar_carga" href="#agregar_carga" >Agregar carga</a></li>
          <li><a data-icon="clock" data-transition="fade" id="m_ver_jornada" href="#ver_jornada" >Ver jornada</a></li>
          <li><a data-icon="calendar" data-transition="fade" id="m_ver_grilla" href="#ver_grilla" >Ver grilla</a></li>
          <li><a data-icon="gear" data-transition="fade" id="m_configuracion" href="#configuracion" >Configuración</a></li>
        </ul>
      </nav>
    </footer>
    <!-- 
    <div id="dialogo_confirmar" 
      data-role="popup" 
      data-overlay-theme="b" 
      data-theme="b" 
      data-dismissible="false"
    >
      <div data-role="header" data-theme="a">
        <h1>Confirmar</h1>
      </div>
      <div role="main" class="ui-content">
        <h3 class="ui-title">(mensaje)</p>
        <button id="dialogo_no" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back">NO</button>
        <button id="dialogo_si" class="ui-btn ui-corner-all ui-shadow ui-btn-inline ui-btn-b" data-rel="back" data-transition="flow">SI</a>
      </div>
    </div><!-- -->
    
    <div data-role="panel" data-position="right" data-display="overlay" data-theme="b" id="consola">
    <!-- panel content goes here -->
      <h3>CONSOLA</h3>
      <!-- no funcuona por ahora el boton de cerrar consola
      <a 
        href="#mi_cabecera" 
        data-rel="close" 
        class="ui-btn ui-btn-right ui-icon-delete ui-btn-icon-notext ui-corner-all" 
        >
        cerrar
      </a>
      -->
      <div id="log"></div>
    </div><!-- /panel -->

  </body>
</html>
