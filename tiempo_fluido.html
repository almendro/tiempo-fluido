<!doctype html>
<html>
  <head>
    <title>Tiempo Fluido</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2">
      
    <!--
    <link rel="stylesheet" type="text/css" href="assets/jquery.mobile.1.4.5/jquery.mobile-1.4.5.min.css" media="screen" />
    -->
<!--
   <link rel="stylesheet" type="text/css" href="assets/jquery.mobile.1.4.5/jquery.mobile.theme-1.4.5.min.css" media="screen" />
-->    
    <link rel="stylesheet" type="text/css" href="css/tiempo_fluido.css" media="screen" />
    <!--
    <link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap-material-design.min.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="css/ripples.min.css" media="screen" />
    -->
    <script src="assets/modernizr.js"></script>
    <!--<script src="assets/.js"></script>-->
    
    <link rel="stylesheet" type="text/css" href="assets/dev/style.css" media="screen" />
    
    <script>
      
      var $consola, $log, trace;
      trace=function(e){
        if (console.log){
          console.log(e);
        } else {
          alert(e);
        }
      };
      
      Modernizr.load([
        {
          load: "assets/jquery-2.2.3.min.js",
          complete: function (){
            if(!window.jQuery){
              trace("fallo jQuery");
            }
          }
        },
        //"assets/jquery.mobile.1.4.5/jquery.mobile-1.4.5.min.js",
        /*
        "assets/bootstrap.min.js",
        "assets/material.min.js",
        "assets/ripples.min.js",
        */
        "assets/moment.min.js",
        "assets/jquery.storageapi.min.js",
        "assets/jquery.serializejson.min.js",
        "assets/populateform.js",
        "assets/varios.js",
        "js/ui.js",
        "js/carga.js",
        "js/jornada.js",
        "js/grilla.js",
        "js/io.js",
        "js/dev.js",
        {
          load: "js/tiempo_fluido.js",
          complete: function (){
            if(!window.tiempoFluido){
              trace("fallo tiempoFluido");
            } else {
              /*** DEV ***/
              //desbichador_init();
              /*
              $("#clearAllNiceAlert").click(function(){
                $("#nice_alert alertbox").hide();
              });
              */
              
              $log = $("#consola #log");
              $consola = $("#consola");
              trace = function (e){
                $log.append("<p>"+e+"</p>");
              }
              $("#consola_btn").bind("click",function(){
                var $soy = $(this);
                $consola.toggleClass("abierta");
              });

              var miTiempoFluido = new tiempoFluido.aplicacion();
              miTiempoFluido.iniciar();
            }
          }/* /complete */
        }
      ]);/* /Modernizr.load */
    </script>

    <!-- *** DEV *** -->
    <!-- - ->
    <link rel="stylesheet" type="text/css" media="screen" href="assets/desbichador/desbichador.css" />
    <script src="assets/desbichador/desbichador.js"></script>
    <!-- -->
    
    <link rel="stylesheet" type="text/css" media="screen" href="assets/nicealert/style.css" />
    <script src="assets/nicealert/nice_alert.js"></script>
    <!-- -->
  </head>

  <body>
  <!-- ------------------ -->

    <header id="mi_cabecera">
      <h1>Tiempo Fluido</h1>
      <nav id="menu_principal">
        <ul>
          <li><a id="m_inicio" href="#inicio" >Inicio</a></li>
          <li><a id="m_ver_cargas" href="#ver_cargas" >Ver cargas</a></li>
          <li><a id="m_ver_jornada" href="#ver_jornada" >Ver jornada</a></li>
          <li><a id="m_ver_grilla" href="#ver_grilla" >Ver grilla</a></li>
          <li><a id="m_configuracion" href="#configuracion" >Configuración</a></li>
        </ul>
      </nav><!-- /#menu_principal -->
    </header><!-- /#mi_cabecera -->

  <!-- ------------------ -->

    <section id="inicio" class="seccion">
      <header>
        <h1>Inicio</h1>
      </header>
      <section id="bienvenida" class="subseccion">
        <header>
          <h2>Bienvenido <span class="valor perfil nombre"></span></h2>
        </header>
        <div class="mensaje SIN_PERFIL">
          <p>¡No hay perfil definido. Tienes que definir uno para comenzar!</p>
        </div>
        <div class="mensaje SIN_CONFIGURACION">
          <p>No hay configuradas preferencias para el perfil <span class="valor perfil id"></span>.</p>
          <p>Puedes elegir entre configurar las preferencias de la aplicación y las características de tu tiempo o comenzar a usar con los valores por defecto.</p>
          <button
            data-accion="configurarPreferencias" 
            class="configurarPreferencias">
            Configurar Preferencias
          </button> 
          <button 
            data-accion="comenzarYa" 
            class="comenzarYa">
            Comenzar ya
          </button>
        </div>
      </section> <!-- /#bienvenida.subseccion -->

      <section id="tablero" class="subseccion">
        <header>
          <h2>¡Hola <span class="valor perfil nombre"></span>!</h2>
        </header>
        <p>¿Qué hacemos ahora?</p>
        <div id="acciones_preferidas" >
        (aqui van las acciones que el usuario configura como preferidas al comienzo)
        </div><!-- /#acciones_preferidas -->
      </section> <!-- /#tablero.subseccion -->

    </section><!-- /#inicio.seccion -->

  <!-- ------------------ -->

    <section id="ver_cargas" class="seccion">
      <header>
        <h1>Cargas</h1>
      </header>
      <p>Administrador de cargas.</p>
      <div>
        <div class="barra_acciones">
          <ul>
            <li><a id="a_agregar_carga" href="#agregar_carga" data-icon="plus">Agregar carga</a></li>
            <li><a id="a_modificar_carga" href="#modificar_carga" data-icon="edit">Modificar carga</a></li>
            <li><a id="a_listar_cargas" href="#listar_cargas" data-icon="bullets">Listar cargas</a></li>
            <!--
            <li><a id="a_agregar_plantilla" href="#agregar_plantilla" data-icon="plus">Agregar plantilla</a></li>
            <li><a id="a_biblioteca" href="#biblioteca" data-icon="bullets">Biblioteca</a></li>
            -->
          </ul>
        </div><!-- .barra_acciones -->
        
        <div id="agregar_carga" 
          class="subseccion"
          data-plantilla="abm_carga" 
          data-plantilla-enviar="Agregar">
          <p>ABM Carga: Agregar</p>
        </div><!-- /#agregar_carga -->
        
        <div id="modificar_carga" 
             class="subseccion ui-content" 
             data-plantilla="abm_carga" 
             data-plantilla-enviar="Guardar">
          <p>ABM Carga: Modificar</p>
        </div><!-- /#modificar_carga -->
        
        <div id="listar_cargas" class="subseccion ui-content">
          <p>Listar cargas</p>
        </div><!-- /#listar_cargas -->
      </div><!-- /tabs -->
      
      <div data-plantilla-id="abm_carga" class="plantilla_html">
        <form>
          <fieldset>
            <div class="acordion">
              <h2>Básico</h2>
              <legend>Los datos mínimos.</legend>
              <div class="form-group">
                <label for="titulo" class="">Título</label>
                <div class="">
                  <input type="titulo" class="form-control" name="titulo" placeholder="Título">
                </div>
              </div>
              <div class="form-group">
                <div class="">
                  <!--<button type="button" data-accion="cancelar" class="">Cancelar</button>-->
                  <button type="submit" data-accion="enviar" class="enviar">(acción)</button>
                </div>
              </div>
            </div><!-- /.acordion -->
          </fieldset>
        </form>
      </div><!-- /#abm_carga -->
      
    </section><!-- /#ver_cargas.seccion -->

  <!-- ------------------ -->

    <section id="ver_jornada" class="seccion">
      <header>
        <h1>Ver jornada</h1>
      </header>
      <div role="main" class="ui-content">
        <p>Hola!</p>
      </div>      
    </section><!-- /#ver_jornada -->

  <!-- ------------------ -->

    <section id="ver_grilla" class="seccion">
      <header>
        <h1>Ver grilla</h1>
      </header>
      <div role="main" class="ui-content">
        <p>Hola!</p>
      </div>      
    </section><!-- /#ver_grilla -->

  <!-- ------------------ -->

    <section id="configuracion" class="seccion">
      <header>
        <h1>Configuración</h1>
      </header>
      <p>Perfil de usuario y preferencias de funcionamiento general.</p>

      <div class="tabs">
      
        <div class="barra">
          <ul>
            <li><a id="a_perfil" href="#perfil" data-icon="user">Perfil</a></li>
            <li><a id="a_preferencias" href="#preferencias" data-icon="bullets">Preferencias</a></li>
            <li><a id="a_otras" href="#otras" data-icon="bullets">Otras</a></li>
            <li><a id="a_dev" href="#dev" data-icon="power">DEV</a></li>
          </ul>
        </div><!-- .barra -->
        
        <section id="perfil" class="subseccion">
          <form>
            <fieldset>
              <legend>Perfil de usuario</legend>

              <div class="form-group">
                <label for="nombre" class="">Nombre</label>
                <div class="">
                  <input type="text" class="" name="nombre" placeholder="Nombre real">
                </div>
              </div>

              <div class="form-group">
                <label for="alias" class="">Id (alias)</label>
                <div class="">
                  <input type="text" class="" name="alias" placeholder="Alias ó apodo">
                </div>
              </div>

              <div class="form-group">
                <label for="email" class="">Email</label>
                <div class="">
                  <input type="text" class="" name="email" placeholder="Email">
                </div>
              </div>

              <div class="form-group">
                <div class="">
                  <!--<button type="button" data-accion="reset" class="">Reset</button>-->
                  <button type="button" data-accion="enviar" class="enviar">Crear Perfil</button>
                </div>
              </div>

           </fieldset>
          </form>
        </section><!-- /#perfil -->
        
        <section id="preferencias" class="subseccion">
          <form>
            <fieldset>
              <legend>Preferencias</legend>

              <div class="form-group">
                <label for="tiempoPorJornada" class="">Tiempo por jornada</label>
                <div class="">
                  <input type="text" class="" name="tiempoPorJornada" data-value-type="number" placeholder="horas">
                </div>
              </div>
              <div class="form-group">
                <label for="tiempoIntercargas" class="">Tiempo entre cargas</label>
                <div class="">
                  <input type="text" class="" name="tiempoIntercargas" data-value-type="number" placeholder="minutos">
                </div>
              </div>
              <div class="form-group">
                <label for="reservaContingencias" class="">Reserva para contingencias (hs:min)</label>
                <div class="">
                  <input type="text" class="" name="reservaContingencias" data-value-type="number" placeholder="horas:minutos">
                </div>
              </div>
              <div class="form-group">
                <label for="tiempoMinimo" class="">Tiempo mínimo por tarea por día min)</label>
                <div class="">
                  <input type="text" class="" name="tiempoMinimo" data-value-type="number" placeholder="minutos">
                </div>
              </div>

              <div name="diasDeSemana" class="">
                <p>Días de la semana laborable</p>
                <label for="diasDeSemana[lun]" class="">lunes</label>
                <input type="checkbox" class="" name="diasDeSemana[lun]" value="lun">
                <label for="diasDeSemana[mar]" class="">martes</label>
                <input type="checkbox" class="" name="diasDeSemana[mar]" value="mar">
                <label for="diasDeSemana[mie]" class="">miercoles</label>
                <input type="checkbox" class="" name="diasDeSemana[mie]" value="mie">
                <label for="diasDeSemana[jue]" class="">jueves</label>
                <input type="checkbox" class="" name="diasDeSemana[jue]" value="jue">
                <label for="diasDeSemana[vie]" class="">viernes</label>
                <input type="checkbox" class="" name="diasDeSemana[vie]" value="vie">
                <label for="diasDeSemana[sab]" class="">sábado</label>
                <input type="checkbox" class="" name="diasDeSemana[sab]" value="sab">
                <label for="diasDeSemana[dom]" class="">domingo</label>
                <input type="checkbox" class="" name="diasDeSemana[dom]" value="dom">
              </div>
              
              <div class="form-group">
                <div class="">
                  <!--
                  <button type="button" class="">Reset</button>
                  -->
                  <button type="button" data-accion="enviar" class="enviar">Salvar preferencias</button>
                </div>
              </div>
            </fieldset>
          </form>
        </section><!-- /#preferencias.subseccion -->
        
        <div id="otras" class="subseccion">
          <h1>Otras configuraciones</h1>
        </div><!-- /#otras.subseccion -->
        
        <div id="dev" class="subseccion">
          <header>
            <h2>Opciones desarrollador</h2>
            <p>(manejarse cuidado)</p>
          </header>
          <section>
            <h3>Local storage</h3>
            <p>
              Manejo del local storage del navegador y los datos almacenados.
            </p>
            <button 
              id="dev_borrar_todo" 
              class="icon-alert">
              BORRAR TODO
            </button>
          </section>
        </div><!-- /#dev.subseccion -->
        
      </div><!-- /.tabs --> 
      
    </section><!-- /#configuracion.seccion -->
 
  <!-- ------------------ -->
 
    <footer>
      <!-- navegación -->
      <nav id="menu_accion">
        <ul>
          <li>
            <a id="m_agregar_carga" href="#agregar_carga" >Agregar carga</a>
          </li>
        </ul>
      </nav>
    </footer>
    
  <!-- ------------------ -->
  
    <div id="dialogo_confirmar" data-plantilla-id="dialogo_confirmar" class="plantilla_html">
      <header>
        <h1>Confirmar</h1>
      </header>
      <div class="contenido">
        <h3 class="mensaje">(mensaje)</p>
        <button class="dialogo_no" >NO</button>
        <button class="dialogo_si" >SI</button>
      </div><!-- /.contenido -->
    </div><!-- /#dialogo_confirmar -->
    
    <div id="consola">
      <button id="consola_btn" class="btn btn-fab"><span>>CONSOLA</span></button>
      <h3>CONSOLA</h3>
      <div id="log">
      </div><!-- /#log -->
    </div><!-- /#consola -->
    
    <!-- /* DEV */ - ->
    <div id="clearAllNiceAlert" style="display:block;position:fixed;top:0;left:40%;" class="btn btn-raised btn-danger btn-xs">
    Clear All NiceAlerts
    </div>
    <!-- -->

  </body>
</html>
